{"ast":null,"code":"import { useRef as t, useEffect as e, forwardRef as o, useState as n, useImperativeHandle as r, createElement as a } from \"react\";\n\nfunction i() {\n  return (i = Object.assign || function (t) {\n    for (var e = 1; e < arguments.length; e++) {\n      var o = arguments[e];\n\n      for (var n in o) Object.prototype.hasOwnProperty.call(o, n) && (t[n] = o[n]);\n    }\n\n    return t;\n  }).apply(this, arguments);\n}\n\nvar c = function () {};\n\nfunction l(t, e) {\n  return Math.random() * (e - t + 1) + t;\n}\n\nfunction s(t, e) {\n  return Math.floor(l(t, e));\n}\n\nvar u = o(function (o, u) {\n  var d = o.progress,\n      f = o.height,\n      v = void 0 === f ? 2 : f,\n      h = o.className,\n      p = void 0 === h ? \"\" : h,\n      m = o.color,\n      b = void 0 === m ? \"red\" : m,\n      g = o.background,\n      y = void 0 === g ? \"transparent\" : g,\n      w = o.onLoaderFinished,\n      x = o.transitionTime,\n      S = void 0 === x ? 300 : x,\n      k = o.loaderSpeed,\n      M = void 0 === k ? 500 : k,\n      N = o.waitingTime,\n      R = void 0 === N ? 1e3 : N,\n      T = o.shadow,\n      Y = void 0 === T || T,\n      I = o.containerStyle,\n      O = void 0 === I ? {} : I,\n      j = o.style,\n      P = void 0 === j ? {} : j,\n      z = o.shadowStyle,\n      C = void 0 === z ? {} : z,\n      F = o.containerClassName,\n      L = void 0 === F ? \"\" : F,\n      q = t(!1),\n      A = n(0),\n      B = A[0],\n      D = A[1],\n      E = t({\n    active: !1,\n    refreshRate: 1e3\n  }),\n      G = n(!1),\n      H = G[0],\n      J = G[1],\n      K = n({\n    active: !1,\n    value: 20\n  }),\n      Q = K[0],\n      U = K[1],\n      V = {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    height: v,\n    background: y,\n    zIndex: 99999999999,\n    width: \"100%\"\n  },\n      W = {\n    boxShadow: \"0 0 10px \" + b + \", 0 0 10px \" + b,\n    width: \"5%\",\n    opacity: 1,\n    position: \"absolute\",\n    height: \"100%\",\n    transition: \"all \" + M + \"ms ease\",\n    transform: \"rotate(3deg) translate(0px, -4px)\",\n    left: \"-10rem\"\n  },\n      X = n({\n    height: \"100%\",\n    background: b,\n    transition: \"all \" + M + \"ms ease\",\n    width: \"0%\"\n  }),\n      Z = X[0],\n      $ = X[1],\n      _ = n(W),\n      tt = _[0],\n      et = _[1];\n\n  e(function () {\n    return q.current = !0, function () {\n      q.current = !1;\n    };\n  }, []), r(u, function () {\n    return {\n      continuousStart: function (t, e) {\n        if (void 0 === e && (e = 1e3), !Q.active) if (H) console.warn(\"react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!\");else {\n          var o = t || s(10, 20);\n          E.current = {\n            active: !0,\n            refreshRate: e\n          }, D(o), at(o);\n        }\n      },\n      staticStart: function (t) {\n        if (!E.current.active) if (H) console.warn(\"react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!\");else {\n          var e = t || s(30, 50);\n          U({\n            active: !0,\n            value: e\n          }), D(e), at(e);\n        }\n      },\n      complete: function () {\n        H ? console.warn(\"react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!\") : (D(100), at(100));\n      }\n    };\n  }), e(function () {\n    $(i({}, Z, {\n      background: b\n    })), et(i({}, tt, {\n      boxShadow: \"0 0 10px \" + b + \", 0 0 5px \" + b\n    }));\n  }, [b]), e(function () {\n    if (u) {\n      if (u && void 0 !== d) return void console.warn('react-top-loading-bar: You can\\'t use both controlling by props and ref methods to control the bar! Please use only props or only ref methods! Ref methods will override props if \"ref\" property is available.');\n      at(B), J(!1);\n    } else d && at(d), J(!0);\n  }, [d]);\n\n  var ot,\n      nt,\n      rt,\n      at = function t(e) {\n    e >= 100 ? ($(i({}, Z, {\n      width: \"100%\"\n    })), Y && et(i({}, tt, {\n      left: e - 10 + \"%\"\n    })), setTimeout(function () {\n      q.current && ($(i({}, Z, {\n        opacity: 0,\n        width: \"100%\",\n        transition: \"all \" + S + \"ms ease-out\",\n        color: b\n      })), setTimeout(function () {\n        q.current && (E.current.active && (E.current = i({}, E.current, {\n          active: !1\n        }), D(0), t(0)), Q.active && (U(i({}, Q, {\n          active: !1\n        })), D(0), t(0)), w && w(), D(0), t(0));\n      }, S));\n    }, R)) : ($(function (t) {\n      return i({}, t, {\n        width: e + \"%\",\n        opacity: 1,\n        transition: e > 0 ? \"all \" + M + \"ms ease\" : \"\"\n      });\n    }), Y && et(i({}, tt, {\n      left: e - 5.5 + \"%\",\n      transition: e > 0 ? \"all \" + M + \"ms ease\" : \"\"\n    })));\n  };\n\n  return ot = function () {\n    var t = l(Math.min(10, (100 - B) / 5), Math.min(20, (100 - B) / 3));\n    B + t < 95 && (D(B + t), at(B + t));\n  }, nt = E.current.active ? E.current.refreshRate : null, rt = t(c), e(function () {\n    rt.current = ot;\n  }), e(function () {}, [void 0]), e(function () {\n    if (null !== nt && !1 !== nt) {\n      var t = setInterval(function () {\n        return rt.current();\n      }, nt);\n      return function () {\n        return clearInterval(t);\n      };\n    }\n  }, [nt]), a(\"div\", {\n    className: L,\n    style: i({}, V, O)\n  }, a(\"div\", {\n    className: p,\n    style: i({}, Z, P)\n  }, Y ? a(\"div\", {\n    style: i({}, tt, C)\n  }) : null));\n});\nexport default u;","map":{"version":3,"sources":["E:\\react\\news\\node_modules\\react-top-loading-bar\\src\\useInterval.ts","E:\\react\\news\\node_modules\\react-top-loading-bar\\src\\utils.ts","E:\\react\\news\\node_modules\\react-top-loading-bar\\src\\index.tsx"],"names":["noop","callback","delay","immediate","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","randomValue","min","max","Math","random","randomInt","floor","LoadingBar","forwardRef","progress","height","className","color","background","onLoaderFinished","transitionTime","loaderSpeed","waitingTime","shadow","containerStyle","style","shadowStyle","shadowStyleProp","containerClassName","ref","isMounted","localProgress","localProgressSet","useState","pressedContinuous","active","refreshRate","usingProps","setUsingProps","pressedStaticStart","setStaticStartPressed","value","transition","width","loaderContainerStyle","position","top","left","zIndex","initialShadowStyles","boxShadow","opacity","transform","loaderStyle","loaderStyleSet","shadowStyleSet","useImperativeHandle","continuousStart","startingValue","console","warn","val","checkIfFull","staticStart","complete","undefined","_progress","setTimeout","_loaderStyle","React"],"mappings":"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","sourcesContent":["import { useEffect, useRef } from 'react'\n\n/** keep typescript happy */\nconst noop = () => {}\n\nexport function useInterval(\n  callback: () => void,\n  delay: number | null | false,\n  immediate?: boolean\n) {\n  const savedCallback = useRef(noop)\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback\n  })\n\n  // Execute callback if immediate is set.\n  useEffect(() => {\n    if (!immediate) return\n    if (delay === null || delay === false) return\n    savedCallback.current()\n  }, [immediate])\n\n  // Set up the interval.\n  useEffect(() => {\n    if (delay === null || delay === false) return undefined\n    const tick = () => savedCallback.current()\n    const id = setInterval(tick, delay)\n    return () => clearInterval(id)\n  }, [delay])\n}\n\nexport default useInterval\n","export function randomValue(min: number, max: number): number {\n  return (Math.random() * (max - min + 1) + min)\n}\n\nexport function randomInt(min: number, max: number): number {\n  return Math.floor(randomValue(min, max))\n}\n","import * as React from 'react'\nimport {\n  CSSProperties,\n  useEffect,\n  useState,\n  forwardRef,\n  useImperativeHandle,\n  useRef,\n} from 'react'\nimport { useInterval } from './useInterval'\nimport { randomInt, randomValue } from './utils'\n\nexport type IProps = {\n  progress?: number\n  color?: string\n  shadow?: boolean\n  background?: string\n  height?: number\n  onLoaderFinished?: () => void\n  className?: string\n  containerClassName?: string\n  loaderSpeed?: number\n  transitionTime?: number\n  waitingTime?: number\n  style?: CSSProperties\n  containerStyle?: CSSProperties\n  shadowStyle?: CSSProperties\n}\n\nexport type LoadingBarRef = {\n  continuousStart: (startingValue?: number, refreshRate?: number) => void\n  staticStart: (startingValue?: number) => void\n  complete: () => void;\n}\n\nconst LoadingBar = forwardRef<LoadingBarRef, IProps>(\n  (\n    {\n      progress,\n      height = 2,\n      className = '',\n      color = 'red',\n      background = 'transparent',\n      onLoaderFinished,\n      transitionTime = 300,\n      loaderSpeed = 500,\n      waitingTime = 1000,\n      shadow = true,\n      containerStyle = {},\n      style = {},\n      shadowStyle: shadowStyleProp = {},\n      containerClassName = ''\n    },\n    ref\n  ) => {\n    const isMounted = useRef(false);\n    const [localProgress, localProgressSet] = useState<number>(0)\n\n    const pressedContinuous = useRef<{\n      active: boolean\n      refreshRate: number\n    }>({ active: false, refreshRate: 1000 })\n\n    const [usingProps, setUsingProps] = useState(false)\n\n    const [pressedStaticStart, setStaticStartPressed] = useState<{\n      active: boolean\n      value: number\n    }>({ active: false, value: 20 })\n\n    const initialLoaderStyle: CSSProperties = {\n      height: '100%',\n      background: color,\n      transition: `all ${loaderSpeed}ms ease`,\n      width: '0%',\n    }\n\n    const loaderContainerStyle: CSSProperties = {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      height,\n      background,\n      zIndex: 99999999999,\n      width: 100 + '%',\n    }\n\n    const initialShadowStyles: CSSProperties = {\n      boxShadow: `0 0 10px ${color}, 0 0 10px ${color}`,\n      width: '5%',\n      opacity: 1,\n      position: 'absolute',\n      height: '100%',\n      transition: `all ${loaderSpeed}ms ease`,\n      transform: 'rotate(3deg) translate(0px, -4px)',\n      left: '-10rem',\n    }\n\n    const [loaderStyle, loaderStyleSet] = useState<CSSProperties>(\n      initialLoaderStyle\n    )\n    const [shadowStyle, shadowStyleSet] = useState<CSSProperties>(\n      initialShadowStyles\n    )\n\n    useEffect(() => {\n      isMounted.current = true;\n      return () => {\n        isMounted.current = false;\n      }\n    }, []);\n\n    useImperativeHandle(ref, () => ({\n      continuousStart(startingValue?: number, refreshRate: number = 1000) {\n        if (pressedStaticStart.active) return\n        if (usingProps) {\n          console.warn(\n            \"react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!\"\n          )\n          return\n        }\n\n        const val = startingValue || randomInt(10, 20)\n\n        pressedContinuous.current = ({\n          active: true,\n          refreshRate,\n        })\n\n        localProgressSet(val)\n        checkIfFull(val)\n      },\n      staticStart(startingValue?: number) {\n        if (pressedContinuous.current.active) return\n        if (usingProps) {\n          console.warn(\n            \"react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!\"\n          )\n          return\n        }\n\n        const val = startingValue || randomInt(30, 50)\n\n        setStaticStartPressed({\n          active: true,\n          value: val,\n        })\n        localProgressSet(val)\n        checkIfFull(val)\n      },\n      complete() {\n        if (usingProps) {\n          console.warn(\n            \"react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!\"\n          )\n          return\n        }\n        localProgressSet(100)\n        checkIfFull(100)\n      },\n    }))\n\n    useEffect(() => {\n      loaderStyleSet({\n        ...loaderStyle,\n        background: color,\n      })\n\n      shadowStyleSet({\n        ...shadowStyle,\n        boxShadow: `0 0 10px ${color}, 0 0 5px ${color}`,\n      })\n    }, [color])\n\n    useEffect(() => {\n      if (ref) {\n        if (ref && progress !== undefined) {\n          console.warn(\n            'react-top-loading-bar: You can\\'t use both controlling by props and ref methods to control the bar! Please use only props or only ref methods! Ref methods will override props if \"ref\" property is available.'\n          )\n          return\n        }\n        checkIfFull(localProgress)\n        setUsingProps(false)\n      } else {\n        if (progress) checkIfFull(progress)\n\n        setUsingProps(true)\n      }\n    }, [progress])\n\n    const checkIfFull = (_progress: number) => {\n      if (_progress >= 100) {\n        // now it should wait a little\n        loaderStyleSet({\n          ...loaderStyle,\n          width: '100%',\n        })\n        if (shadow) {\n          shadowStyleSet({\n            ...shadowStyle,\n            left: _progress - 10 + '%',\n          })\n        }\n\n        setTimeout(() => {\n          if (!isMounted.current) {\n            return;\n          }\n          // now it can fade out\n          loaderStyleSet({\n            ...loaderStyle,\n            opacity: 0,\n            width: '100%',\n            transition: `all ${transitionTime}ms ease-out`,\n            color: color,\n          })\n\n          setTimeout(() => {\n            if (!isMounted.current) {\n              return;\n            }\n            // here we wait for it to fade\n            if (pressedContinuous.current.active) {\n              // if we have continuous loader just ending, we kill it and reset it\n\n              pressedContinuous.current = {\n                ...pressedContinuous.current,\n                active: false,\n              };\n\n              localProgressSet(0)\n              checkIfFull(0)\n            }\n\n            if (pressedStaticStart.active) {\n              setStaticStartPressed({\n                ...pressedStaticStart,\n                active: false,\n              })\n              localProgressSet(0)\n              checkIfFull(0)\n            }\n\n            if (onLoaderFinished) onLoaderFinished()\n            localProgressSet(0)\n            checkIfFull(0)\n          }, transitionTime)\n        }, waitingTime)\n      } else {\n        loaderStyleSet((_loaderStyle) => {\n          return {\n            ..._loaderStyle,\n            width: _progress + '%',\n            opacity: 1,\n            transition: _progress > 0 ? `all ${loaderSpeed}ms ease` : '',\n          }\n        })\n\n        if (shadow) {\n          shadowStyleSet({\n            ...shadowStyle,\n            left: _progress - 5.5 + '%',\n            transition: _progress > 0 ? `all ${loaderSpeed}ms ease` : '',\n          })\n        }\n      }\n    }\n\n    useInterval(\n      () => {\n        const minValue = Math.min(10, (100 - localProgress) / 5);\n        const maxValue =  Math.min(20, (100 - localProgress) / 3)\n\n        const random = randomValue(minValue, maxValue);\n\n        if (localProgress + random < 95) {\n          localProgressSet(localProgress + random)\n          checkIfFull(localProgress + random)\n        }\n      },\n      pressedContinuous.current.active ? pressedContinuous.current.refreshRate : null\n    )\n\n    return (\n      <div className={containerClassName} style={{...loaderContainerStyle, ...containerStyle}}>\n        <div className={className} style={{...loaderStyle, ...style}}>\n          {shadow ? <div style={{...shadowStyle, ...shadowStyleProp}} /> : null}\n        </div>\n      </div>\n    )\n  }\n)\n\nexport default LoadingBar\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}